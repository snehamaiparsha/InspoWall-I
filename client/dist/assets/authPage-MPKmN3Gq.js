import{r as o,a as p,u as h,j as e,I as x,b as j}from"./index-DqcJGOsq.js";const b=()=>{const[r,t]=o.useState(!1),[s,n]=o.useState(""),d=p(),{setCurrentUser:m}=h(),i=async l=>{l.preventDefault();const c=new FormData(l.target),u=Object.fromEntries(c);try{const a=await j.post(`/users/auth/${r?"register":"login"}`,u);m(a.data),d("/")}catch(a){n(a.response.data.message)}};return e.jsx("div",{className:"authPage",children:e.jsxs("div",{className:"authContainer",children:[e.jsx(x,{path:"/general/logo.png",w:36,h:36,alt:""}),e.jsx("h1",{children:r?"Create an Account":"Login to your account"}),r?e.jsxs("form",{onSubmit:i,children:[e.jsxs("div",{className:"formGroup",children:[e.jsx("label",{htmlFor:"username",children:"Username"}),e.jsx("input",{type:"username",placeholder:"Username",required:!0,name:"username",id:"username"})]}),e.jsxs("div",{className:"formGroup",children:[e.jsx("label",{htmlFor:"displayName",children:"Name"}),e.jsx("input",{type:"displayName",placeholder:"Name",required:!0,name:"displayName",id:"displayName"})]}),e.jsxs("div",{className:"formGroup",children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",placeholder:"Email",required:!0,name:"email",id:"email"})]}),e.jsxs("div",{className:"formGroup",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("input",{type:"password",placeholder:"Password",required:!0,name:"password",id:"password"})]}),e.jsx("button",{type:"submit",children:"Register"}),e.jsxs("p",{onClick:()=>t(!1),children:["Do you have an account? ",e.jsx("b",{children:"Login"})]}),s&&e.jsx("p",{className:"error",children:s})]},"register"):e.jsxs("form",{onSubmit:i,children:[e.jsxs("div",{className:"formGroup",children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",placeholder:"Email",required:!0,name:"email",id:"email"})]}),e.jsxs("div",{className:"formGroup",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("input",{type:"password",placeholder:"Password",required:!0,name:"password",id:"password"})]}),e.jsx("button",{type:"submit",children:"Login"}),e.jsxs("p",{onClick:()=>t(!0),children:["Don't have an account? ",e.jsx("b",{children:"Register"})]}),s&&e.jsx("p",{className:"error",children:s})]},"loginForm")]})})};export{b as default};
